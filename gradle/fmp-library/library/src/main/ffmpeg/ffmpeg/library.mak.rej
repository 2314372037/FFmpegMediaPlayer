***************
*** 48,63 ****
  $(TESTPROGS) $(TOOLS): %$(EXESUF): %.o $(EXEOBJS)
  	$$(LD) $(LDFLAGS) $(LDEXEFLAGS) $$(LD_O) $$(filter %.o,$$^) $$(THISLIB) $(FFEXTRALIBS) $$(ELIBS)
  
- $(SUBDIR)$(SLIBNAME): $(SUBDIR)$(SLIBNAME_WITH_MAJOR)
- 	$(Q)cd ./$(SUBDIR) && $(LN_S) $(SLIBNAME_WITH_MAJOR) $(SLIBNAME)
- 
- $(SUBDIR)$(SLIBNAME_WITH_MAJOR): $(OBJS) $(SLIBOBJS) $(SUBDIR)lib$(NAME).ver
  	$(SLIB_CREATE_DEF_CMD)
  	$$(LD) $(SHFLAGS) $(LDFLAGS) $$(LD_O) $$(filter %.o,$$^) $(FFEXTRALIBS)
  	$(SLIB_EXTRA_CMD)
  
  ifdef SUBDIR
- $(SUBDIR)$(SLIBNAME_WITH_MAJOR): $(DEP_LIBS)
  endif
  
  clean::
--- 48,60 ----
  $(TESTPROGS) $(TOOLS): %$(EXESUF): %.o $(EXEOBJS)
  	$$(LD) $(LDFLAGS) $(LDEXEFLAGS) $$(LD_O) $$(filter %.o,$$^) $$(THISLIB) $(FFEXTRALIBS) $$(ELIBS)
  
+ $(SUBDIR)$(SLIBNAME): $(OBJS) $(SUBDIR)lib$(NAME).ver
  	$(SLIB_CREATE_DEF_CMD)
  	$$(LD) $(SHFLAGS) $(LDFLAGS) $$(LD_O) $$(filter %.o,$$^) $(FFEXTRALIBS)
  	$(SLIB_EXTRA_CMD)
  
  ifdef SUBDIR
+ $(SUBDIR)$(SLIBNAME): $(DEP_LIBS)
  endif
  
  clean::
